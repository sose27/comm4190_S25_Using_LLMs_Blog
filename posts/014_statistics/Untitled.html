<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sose">
<meta name="dcterms.date" content="2025-04-25">
<meta name="description" content="Utilizing ChatGPT as a learning resource for collegiate mathematics">

<title>Can Chat tutor me in Stats? ‚Äì Sose‚Äôs Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-748b535e376f14d4692bf2b2e5fd6380.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-00ea674fe3e7d30d21e6b76fda1ee542.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Sose‚Äôs Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sose27"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Can Chat tutor me in Stats?</h1>
                  <div>
        <div class="description">
          Utilizing ChatGPT as a learning resource for collegiate mathematics
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Prompting</div>
                <div class="quarto-category">Math</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sose </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 25, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="can-chatgpt-serve-as-the-tutor-ive-been-looking-for" class="level2">
<h2 class="anchored" data-anchor-id="can-chatgpt-serve-as-the-tutor-ive-been-looking-for">Can ChatGPT serve as the tutor I‚Äôve been looking for?</h2>
<p><em>As a college humanities student, I‚Äôve always had some difficulty with math and related subjects. In my junior year statistics course, I‚Äôve been struggling and in need of a tutor. While the University claims to provide free tutoring for every course, they have yet to find a single person to tutor for the class I am in.</em></p>
<p><strong>Will ChatGPT be able to tutor me as well as a person would?</strong></p>
<p><img src="tutor.png" class="img-fluid"></p>
<section id="the-conversation" class="level3">
<h3 class="anchored" data-anchor-id="the-conversation">The Conversation</h3>
<section id="prompt" class="level4">
<h4 class="anchored" data-anchor-id="prompt">Prompt</h4>
<p>hi im having a really hard time in my stats class</p>
</section>
<section id="response" class="level4">
<h4 class="anchored" data-anchor-id="response">Response</h4>
<p>Hey, I‚Äôm really sorry to hear that. Stats can be <strong>so</strong> tough‚Äîespecially with finals around the corner. What‚Äôs been tripping you up the most? Is it a specific topic (like confidence intervals, hypothesis tests, sampling distributions‚Ä¶), or just the workload in general? I got you‚Äîwe can tackle it together.</p>
</section>
<section id="prompt-1" class="level4">
<h4 class="anchored" data-anchor-id="prompt-1">Prompt</h4>
<p>I need help with confidence intervals. its SO difficult!</p>
</section>
<section id="response-1" class="level4">
<h4 class="anchored" data-anchor-id="response-1">Response</h4>
<p>Totally get that‚Äîconfidence intervals are one of those topics that sound simple at first but then get confusing <em>real</em> fast. Let‚Äôs break it down together and make it feel less scary üí™</p>
</section>
</section>
<section id="first-up-what-is-a-confidence-interval-ci" class="level3">
<h3 class="anchored" data-anchor-id="first-up-what-is-a-confidence-interval-ci">First up: What is a Confidence Interval (CI)?</h3>
<p>At its core, a confidence interval gives you a <strong>range of values</strong> that likely includes the <strong>true population parameter</strong> (like the mean or proportion). We usually say we‚Äôre ‚Äú95% confident‚Äù that the true value lies within this interval.</p>
</section>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example">Example:</h3>
<p>Let‚Äôs say you survey a bunch of Penn students about how many hours they sleep per night, and you get a <strong>sample mean</strong> of 6.8 hours with a standard deviation of 1.2. If your sample size is 50 students, a 95% CI would give you a range (like 6.5 to 7.1 hours) where the <em>true</em> average sleep for all Penn students likely falls.</p>
</section>
<section id="the-formula-for-a-confidence-interval-for-a-mean-is" class="level3">
<h3 class="anchored" data-anchor-id="the-formula-for-a-confidence-interval-for-a-mean-is">The Formula for a Confidence Interval (for a mean) is:</h3>
<p>[ = {x} t^* ] Where: - ({x}) = sample mean<br>
- (s) = sample standard deviation<br>
- (n) = sample size<br>
- (t^*) = critical value from the <strong>t-distribution</strong> (based on your confidence level and degrees of freedom)</p>
<p>Let‚Äôs try one together if you want! Do you have a practice problem or assignment question we can work through? I can walk you through it step-by-step.</p>
<section id="prompt-2" class="level4">
<h4 class="anchored" data-anchor-id="prompt-2">Prompt</h4>
<p>lets try one yes!</p>
</section>
<section id="response-2" class="level4">
<h4 class="anchored" data-anchor-id="response-2">Response</h4>
<p>Perfect! Let‚Äôs walk through one together üí•</p>
<p>Here‚Äôs a sample problem we can work on:</p>
<hr>
<p><strong>A sample of 40 students was surveyed about how many hours of sleep they get per night.</strong><br>
The sample had:<br>
- Mean sleep time (({x})) = 6.9 hours<br>
- Standard deviation ((s)) = 1.3 hours</p>
<p><strong>Construct a 95% confidence interval for the average number of hours all students sleep per night.</strong></p>
<hr>
</section>
</section>
<section id="step-1-write-down-what-we-know" class="level3">
<h3 class="anchored" data-anchor-id="step-1-write-down-what-we-know">Step 1: Write down what we know</h3>
<ul>
<li>({x} = 6.9)<br>
</li>
<li>(s = 1.3)<br>
</li>
<li>(n = 40)<br>
</li>
<li>Confidence level = 95%, so we‚Äôll need the **(t^*)** value for 95% and df = 39</li>
</ul>
<hr>
</section>
<section id="step-2-find-the-critical-value-t" class="level3">
<h3 class="anchored" data-anchor-id="step-2-find-the-critical-value-t">Step 2: Find the critical value (t^*)</h3>
<p>Since (n = 40), degrees of freedom = (n - 1 = 39)</p>
<p>From a <strong>t-distribution table</strong>, the critical value (t^*) for 95% confidence and df = 39 is about <strong>2.022</strong>.</p>
<hr>
</section>
<section id="step-3-plug-into-the-formula" class="level3">
<h3 class="anchored" data-anchor-id="step-3-plug-into-the-formula">Step 3: Plug into the formula</h3>
<p>[ = {x} t^* = 6.9 ]</p>
<p>Let‚Äôs calculate: - ( ) - Margin of error: (2.022 )</p>
<hr>
</section>
<section id="step-4-final-confidence-interval" class="level3">
<h3 class="anchored" data-anchor-id="step-4-final-confidence-interval">Step 4: Final Confidence Interval</h3>
<p>[ 6.9 (6.484,&nbsp;7.316) ]</p>
<hr>
<p>‚úÖ <strong>Interpretation</strong>: We are 95% confident that the average number of hours all students sleep per night is between <strong>6.48 and 7.32 hours</strong>.</p>
<hr>
<p>Want to try one on your own now with different numbers? I can check your work too!</p>
<section id="prompt-3" class="level4">
<h4 class="anchored" data-anchor-id="prompt-3">Prompt</h4>
<p>can we do an easier one?</p>
</section>
<section id="response-3" class="level4">
<h4 class="anchored" data-anchor-id="response-3">Response</h4>
<p>Absolutely!! Let‚Äôs simplify it so the math feels more manageable üíõ</p>
<hr>
</section>
</section>
<section id="easy-practice-problem-with-nice-numbers" class="level3">
<h3 class="anchored" data-anchor-id="easy-practice-problem-with-nice-numbers">üß† <strong>Easy Practice Problem (with nice numbers)</strong></h3>
<p>A sample of <strong>25 students</strong> took a quiz, and their <strong>average score</strong> was <strong>80 points</strong>, with a <strong>standard deviation of 10</strong>.</p>
<p><strong>Question:</strong> Construct a <strong>95% confidence interval</strong> for the <strong>true mean quiz score</strong> of all students.</p>
<hr>
</section>
<section id="step-1-write-down-what-we-know-1" class="level3">
<h3 class="anchored" data-anchor-id="step-1-write-down-what-we-know-1">Step 1: Write down what we know</h3>
<ul>
<li>({x} = 80) (sample mean)<br>
</li>
<li>(s = 10) (sample standard deviation)<br>
</li>
<li>(n = 25) (sample size)<br>
</li>
<li>Degrees of freedom = (n - 1 = 24)</li>
</ul>
<hr>
</section>
<section id="step-2-find-the-critical-t-value" class="level3">
<h3 class="anchored" data-anchor-id="step-2-find-the-critical-t-value">Step 2: Find the critical (t^*) value</h3>
<p>For <strong>95% confidence</strong> and <strong>24 degrees of freedom</strong>, the (t^*) value is about <strong>2.064</strong> (from a t-table).</p>
<hr>
</section>
<section id="step-3-plug-into-the-formula-1" class="level3">
<h3 class="anchored" data-anchor-id="step-3-plug-into-the-formula-1">Step 3: Plug into the formula</h3>
<p>[ = {x} t^* = 80 ]</p>
<ul>
<li>( = 5), so ( = 2)<br>
</li>
<li>Multiply: (2.064 = 4.128)</li>
</ul>
<hr>
</section>
<section id="step-4-final-answer" class="level3">
<h3 class="anchored" data-anchor-id="step-4-final-answer">Step 4: Final answer!</h3>
<p>[ 80 (75.872,&nbsp;84.128) ]</p>
<p>So we‚Äôre <strong>95% confident</strong> that the true average quiz score is between <strong>75.9 and 84.1 points</strong> üéâ</p>
<hr>
<p>Do you want to try one just like this, but with your own numbers? Or would you rather go even simpler and do one with a <strong>known population standard deviation</strong> so we can use a z-score instead?</p>
<section id="prompt-4" class="level4">
<h4 class="anchored" data-anchor-id="prompt-4">Prompt</h4>
<p>thank you for your help! i feel better!</p>
</section>
<section id="response-4" class="level4">
<h4 class="anchored" data-anchor-id="response-4">Response</h4>
<p>Aww I‚Äôm so glad to hear that!! ü•πüíõ You‚Äôre seriously doing great‚Äîconfidence intervals are tricky at first, but you‚Äôre totally getting the hang of it. And I‚Äôm always here if you want to do more practice, prep for an exam, or even just vent about stats stress.</p>
<p>You got this. One confidence interval at a time üí™üìä‚ú®</p>
<p><img src="problem.png" class="img-fluid"></p>
</section>
</section>
<section id="my-reflection" class="level3">
<h3 class="anchored" data-anchor-id="my-reflection">My reflection</h3>
<p>I think ChatGPT can be a really solid substitute for a stats tutor. It explained confidence intervals in a way that actually made sense and felt encouraging throughout. The step-by-step help felt personalized, and it made a tough topic feel way more manageable.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/sose27\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>