<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sose">
<meta name="dcterms.date" content="2024-04-23">
<meta name="description" content="Seeing if ChatGPT can save a dying brand">

<title>Will AI replace marketers? ‚Äì Sose‚Äôs Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-4379b0ccadffce622b03caf4c46266b3.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-97e0b67b2e0511bb9ceb7c2bfe7f2d95.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Sose‚Äôs Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About!</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sose27"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Will AI replace marketers?</h1>
                  <div>
        <div class="description">
          Seeing if ChatGPT can save a dying brand
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Prompting</div>
                <div class="quarto-category">Marketing</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sose </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 23, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="can-chatgpt-cut-my-marketing-costs" class="level2">
<h2 class="anchored" data-anchor-id="can-chatgpt-cut-my-marketing-costs">Can ChatGPT cut my marketing costs?</h2>
<p><em>In this conversation, I created a hypothetical small business, a college-student-owned affordable handmade jewelry brand: Sos Jewels. I asked ChatGPT to help with marketing as a business owner with no wiggle room for paid marketing.</em></p>
<p><strong>Will ChatGPT be able to revitalize my brand?</strong></p>
<p><img src="sos.png" class="img-fluid"></p>
<section id="the-conversation" class="level3">
<h3 class="anchored" data-anchor-id="the-conversation">The Conversation</h3>
<section id="prompt" class="level4">
<h4 class="anchored" data-anchor-id="prompt">Prompt</h4>
<p>my personal small business, Sos jewels, is really struggling. No matter what i try (paid promos, influencer content, free giveaways) my brand just isn‚Äôt doing well. The quality is good and styles are desirable. the price is so standard too! please help me and my dying company</p>
</section>
<section id="response" class="level4">
<h4 class="anchored" data-anchor-id="response">Response</h4>
<p>Hey Sose, first off‚ÄîI‚Äôm really sorry to hear that. Running a small business is no joke, and it‚Äôs even more disheartening when you‚Äôre doing all the ‚Äúright‚Äù things and it still feels like shouting into the void. But don‚Äôt give up. Let‚Äôs dig in and try to breathe some new life into <em>Sos Jewels</em>. You clearly care a lot and have put in real effort‚Äîthat already sets you apart.</p>
<p>Here‚Äôs a tailored breakdown of ways we can figure out what‚Äôs going wrong <em>and</em> what might help turn things around:</p>
<hr>
</section>
</section>
<section id="first-why-it-might-not-be-working-even-if-it-should" class="level3">
<h3 class="anchored" data-anchor-id="first-why-it-might-not-be-working-even-if-it-should">üíî <strong>First: Why It Might Not Be Working (Even If It <em>Should</em>)</strong></h3>
<ol type="1">
<li><p><strong>Too broad or unclear brand identity</strong><br>
If people can‚Äôt <em>instantly</em> understand what makes <em>Sos Jewels</em> unique, they‚Äôll scroll past. ‚ÄúPretty‚Äù isn‚Äôt enough anymore. Is there a niche, mission, or aesthetic your brand <em>owns</em>?</p></li>
<li><p><strong>Platform mismatch or weak funnel</strong><br>
Are you on the platforms your ideal audience actually uses <em>and</em> following up with calls-to-action that convert? Are you optimizing the journey from ‚Äúdiscovery‚Äù to ‚Äúpurchase‚Äù?</p></li>
<li><p><strong>Lack of storytelling</strong><br>
Great products alone don‚Äôt sell‚Äî<strong>emotional connection does</strong>. Do people know the <em>story</em> behind your pieces? Behind <em>you</em>?</p></li>
<li><p><strong>Saturation + trust issues</strong><br>
The market is crowded and buyers are wary. Have you built trust? Shown your face? Shared reviews or BTS content?</p></li>
</ol>
<hr>
</section>
<section id="next-what-you-can-do-differently-even-without-a-giant-budget" class="level3">
<h3 class="anchored" data-anchor-id="next-what-you-can-do-differently-even-without-a-giant-budget">üí° <strong>Next: What You Can Do Differently (Even Without a Giant Budget)</strong></h3>
<section id="clarify-your-brand-story-visual-identity" class="level4">
<h4 class="anchored" data-anchor-id="clarify-your-brand-story-visual-identity">1. <strong>Clarify Your Brand Story &amp; Visual Identity</strong></h4>
<ul>
<li>What‚Äôs your <em>why</em>? Your aesthetic? Your vibe?<br>
Think of brands like <em>Mejuri</em> or <em>En Route</em>‚Äîsuper clear, consistent, and niche-specific.</li>
<li>Make your brand bio and captions feel <em>human</em>, not salesy.</li>
</ul>
</section>
<section id="go-hyper-niche-not-broad" class="level4">
<h4 class="anchored" data-anchor-id="go-hyper-niche-not-broad">2. <strong>Go Hyper-Niche, Not Broad</strong></h4>
<ul>
<li>‚ÄúJewelry for everyone‚Äù = no one.<br>
‚ÄúDelicate gold jewelry for bold first-gen women‚Äù or ‚Äúgemstone pieces made for dreamers‚Äù = connection.</li>
<li>Consider making 1-2 ‚Äúhero products‚Äù and marketing those hard.</li>
</ul>
</section>
<section id="reintroduce-yourselfface-first" class="level4">
<h4 class="anchored" data-anchor-id="reintroduce-yourselfface-first">3. <strong>Reintroduce Yourself‚ÄîFace First</strong></h4>
<ul>
<li>People buy from people. Start posting more <em>you</em>: your process, your workspace, your story.</li>
<li>Talk directly to camera 1‚Äì2x a week. Even if it feels cringey.</li>
</ul>
</section>
<section id="revamp-your-launches-fewer-better" class="level4">
<h4 class="anchored" data-anchor-id="revamp-your-launches-fewer-better">4. <strong>Revamp Your Launches: Fewer, Better</strong></h4>
<ul>
<li>Instead of always posting products, do mini <em>drops</em> every 2-3 weeks with a theme.</li>
<li>Tease, build suspense, show BTS, then launch like an <em>event</em>.</li>
</ul>
</section>
<section id="leverage-micro-community-marketing" class="level4">
<h4 class="anchored" data-anchor-id="leverage-micro-community-marketing">5. <strong>Leverage Micro-Community Marketing</strong></h4>
<ul>
<li>Start reaching out <em>not</em> to influencers with big followings, but niche community builders: podcast hosts, Substack writers, mutuals with tight-knit followers.</li>
<li>Offer a ‚Äúcustom‚Äù piece collab and let them co-create with you.</li>
</ul>
</section>
<section id="audit-your-customer-experience" class="level4">
<h4 class="anchored" data-anchor-id="audit-your-customer-experience">6. <strong>Audit Your Customer Experience</strong></h4>
<ul>
<li>Is your checkout flow smooth? Do they get a sweet unboxing moment?</li>
<li>Are you capturing emails for a newsletter with personality?</li>
</ul>
<hr>
</section>
</section>
<section id="if-youre-open-to-it" class="level3">
<h3 class="anchored" data-anchor-id="if-youre-open-to-it">üìà If You‚Äôre Open To It:</h3>
<ul>
<li>I‚Äôd love to do a <em>brand audit</em> of your socials, site, and messaging‚Äîfree. Just drop your handle/website.</li>
<li>We could also brainstorm 1-2 new content angles or campaigns that feel fresh <em>and</em> personal.</li>
</ul>
<hr>
<p>You got this, Sose. It‚Äôs okay to pivot. You already have the style and product part down‚Äînow let‚Äôs align the storytelling and strategy. Want to rebuild together?</p>
<section id="prompt-1" class="level4">
<h4 class="anchored" data-anchor-id="prompt-1">Prompt</h4>
<p>Yes! to be honest, my brand is like a cheaper alternative to mejuri - think of gorjana jewelry but what sets me apart is that im a college student designing by handü•∫</p>
</section>
<section id="response-1" class="level4">
<h4 class="anchored" data-anchor-id="response-1">Response</h4>
<p>That‚Äôs such a special angle, Sose!! You being a college student <em>designing by hand</em> is literally your superpower‚Äîand I don‚Äôt think you‚Äôre leaning into that story hard enough yet. So many people (especially fellow students and young women) would love to support that kind of passion project‚Äîbut they need to <em>see</em> it and <em>feel</em> it.</p>
<p>Let‚Äôs turn ‚ÄúI‚Äôm like Mejuri but broke and in a dorm‚Äù into a full-on brand vibe ü•π‚ú®</p>
<hr>
</section>
</section>
<section id="quick-wins-to-try-this-week" class="level3">
<h3 class="anchored" data-anchor-id="quick-wins-to-try-this-week">üéØ Quick Wins to Try <em>This Week</em></h3>
<section id="brand-hook-reframe" class="level4">
<h4 class="anchored" data-anchor-id="brand-hook-reframe">1. <strong>Brand Hook Reframe</strong></h4>
<p>Right now: ‚Äúaffordable handmade jewelry‚Äù<br>
Let‚Äôs tweak to something like: &gt; ‚Äúhandmade pieces by a 21-year-old college girl with big dreams &amp; tiny pliers üõ†Ô∏èüí´‚Äù &gt; ‚Äújewelry designed in dorm rooms, made for golden hour selfies ‚ú®‚Äù &gt; ‚Äúlike Mejuri, but by your artsy campus friend who‚Äôs always sketching rings in class‚Äù</p>
<p>Use this type of tone in your bio, pinned story, email footer, <em>everywhere</em>.</p>
</section>
<section id="series-ideas-tiktok-or-ig-reels" class="level4">
<h4 class="anchored" data-anchor-id="series-ideas-tiktok-or-ig-reels">2. <strong>Series Ideas (Tiktok or IG Reels)</strong></h4>
<ul>
<li><strong>‚ÄúDorm to Drop‚Äù</strong> ‚Äì Document the journey of a new piece from sketch to shipping.</li>
<li><strong>‚ÄúWhat I Wore vs.&nbsp;What I Made‚Äù</strong> ‚Äì Outfit of the day with matching Sos Jewels.</li>
<li><strong>‚ÄúDesigning jewelry while romanticizing college stress‚Äù</strong> ‚Äì You sketching in the library or on the quad.</li>
<li><strong>‚ÄúCustomer Diaries‚Äù</strong> ‚Äì Share any DMs, screenshots, or unboxing reactions (even staged ones to start!).</li>
</ul>
</section>
<section id="highlight-your-uniqueness-in-giveaways" class="level4">
<h4 class="anchored" data-anchor-id="highlight-your-uniqueness-in-giveaways">3. <strong>Highlight Your Uniqueness in Giveaways</strong></h4>
<p>Instead of just ‚Äúfree earrings!!‚Äù say: &gt; ‚Äú‚ú® 1-of-1 piece designed for <em>you</em> by a broke college girl who would rather sketch than study for midterms ü•π enter below ‚Üì‚Äù</p>
<hr>
</section>
</section>
<section id="new-brand-pillars-for-sos-jewels" class="level3">
<h3 class="anchored" data-anchor-id="new-brand-pillars-for-sos-jewels">üî• New Brand Pillars for <em>Sos Jewels</em></h3>
<p>Here‚Äôs how I‚Äôd position you to really stand out: - <strong>Relatable</strong>: ‚ÄúI get what looks good with a claw clip &amp; iced coffee because‚Ä¶ same‚Äù - <strong>Personal</strong>: ‚ÄúEvery piece is made with actual love. Like, sweatpants love.‚Äù - <strong>Aspirational</strong> (but still real): ‚ÄúFor main-character moments on a student budget‚Äù</p>
<hr>
<p>Want me to help write a new bio, a pinned post, or a reintroduction caption? Or maybe mock up a post idea with a caption and photo suggestion? I got you. Just say the word üíçüíõ</p>
<section id="prompt-2" class="level4">
<h4 class="anchored" data-anchor-id="prompt-2">Prompt</h4>
<p>an example post for my rebrand would be great #### Response Absolutely! Here‚Äôs a sample reintroduction post you can use on Instagram (or tweak slightly for TikTok or a story). It‚Äôs got that warm, personal, student-entrepreneur energy that highlights your handmade craft, while still keeping it cute and cool:</p>
<hr>
</section>
</section>
<section id="image-suggestions" class="level3">
<h3 class="anchored" data-anchor-id="image-suggestions">üì∏ <strong>Image Suggestions:</strong></h3>
<ul>
<li>You at your desk making a piece (even a messy workspace works‚Äîadds charm!)</li>
<li>A hand sketching jewelry in a notebook with tools around</li>
<li>A mirror selfie wearing a few pieces, holding a coffee</li>
<li>Optional: add a graphic that says ‚Äúhandmade in a dorm‚Äù or ‚Äúmeet the girl behind Sos Jewels‚Äù</li>
</ul>
<hr>
</section>
<section id="caption" class="level3">
<h3 class="anchored" data-anchor-id="caption">üí¨ <strong>Caption:</strong></h3>
<p>hi! i‚Äôm sose ‚Äì a 21 y/o college student who designs and handmakes every piece of jewelry you see here ‚ú®</p>
<p>i started sos jewels because i couldn‚Äôt afford the trendy stuff i loved (lookin‚Äô at u, mejuri üëÄ) ‚Äì so i made my own. and now i make it for you, too üíõ</p>
<p>think of sos jewels as your affordable go-to for dainty, dreamy pieces that feel like <em>you.</em><br>
perfect for late classes, golden hour pics, or dressing up iced coffee runs.</p>
<p>if you‚Äôve been here a while, thank you. if you‚Äôre new ‚Äì welcome. i‚Äôm so happy you‚Äôre here ü§ç<br>
#SupportSmallBusiness #CollegeGirlBrand #HandmadeJewelry #JewelryTikTok #MejuriVibesOnABudget</p>
<hr>
<p>Would you like me to make a matching IG story or post series idea (like ‚Äúa week in the life of a student designer‚Äù)? Or even a graphic template for your drops? #### Prompt amazinggg yes you can generate an image</p>
<p><img src="jewels.png" class="img-fluid"></p>
</section>
<section id="my-reflection" class="level3">
<h3 class="anchored" data-anchor-id="my-reflection">My reflection</h3>
<p>I think this conversation went really well! ChatGPT did a fine job at building me a business plan, and developing a solid marketing strategy. While the social media post recommendations were a bit out of style / wouldn‚Äôt work on Gen Z consumers, I am now worried for my future in marketing! I will remember this convo when in a real need for marketing help.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sose27\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>